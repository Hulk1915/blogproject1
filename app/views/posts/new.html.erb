<h2>Добавление нового поста</h2>

 
<%= form_for @post, url: posts_path, remote: true do |f| %>
  <% if @post.errors.any? %>
    <div id="error_explanation" class="alert alert-danger">
      <h2><%= pluralize(@post.errors.count, "error") %> prohibited this post from being saved:</h2>
      <ul>
        <% @post.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
 

<p>
    Название<br>
    <%= f.text_field(:title, {:class =>'form-control'}) %>

</p>

<p>
    Текст статьи<br>
    <%= f.text_area(:body, {:class =>'form-control'}) %>

</p>

<p>
   
     <%= f.submit("Сохранить пост", class: 'btn btn-success') %>
</p>
<% end %>

<script>
  document.addEventListener('ajax:success', function(event) {
    if (event.detail[0].success) {
      window.location.href = event.detail[0].redirect;
    } else {
      alert(event.detail[0].errors.join('\n'));
    }
  });
</script>